@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>;
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using OnatrixUmbraco.ViewModels
@{
	var content = (ContentModels.CallbackSection)Model.Content;
	var settings = Model.Settings as ContentModels.CallbackSettings;

	var formViewModel = new CallbackFormViewModel
			{
				Options = settings?.CallbackRequestOptions ?? []
			};

}
<section class="callback-section">
	<div class="callback-container">
		<div class="callback-content">
			@Html.Raw(content.CallbackSectionBody)
		</div>

		<div class="callback-form-container">
			<div class="callback-form-title">
				<p>@content.CallbackSectionFormTitle</p>
			</div>
			<p class="callback-form-description">@content.CallbackSectionFormDescription</p>

			<partial name="Partials/Forms/_CallbackForm" model="formViewModel" />

			@if (TempData["FormSuccess"] != null)
			{
				<div>
					@TempData["FormSuccess"]
				</div>
			}
			else if (TempData["FormError"] != null)
			{
				<div>
					@TempData["FormError"]
				</div>
			}
		</div>
	</div>
</section>